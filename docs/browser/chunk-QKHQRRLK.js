import{a as T}from"./chunk-X6XJIHL6.js";import{a as z}from"./chunk-WYOGC7O4.js";import{b as v,d as b,e as P,g as x,i as S,j as w,k as O,p as E,q as W,r as N,s as D,t as k,v as A}from"./chunk-CZTYIC4U.js";import"./chunk-WWSV3HJO.js";import{Cc as M,Eb as c,La as f,Pa as l,Pb as o,Tb as g,Ub as d,Vb as m,Za as u,a as p,cb as C,tb as _,ub as t,vb as i,wb as y}from"./chunk-EI7UMY6L.js";var G=class h{constructor(r,a){this.userProfileService=r;this.authService=a}userName="";userAge=0;userGender="";userPhoto="";userEmail="";userWeight=0;userHeight=0;originalData={name:"",age:0,gender:"",photo:"",email:"",password:"",weight:0,height:0};profileSubscription;onPhotoChange(r){let a=r.target;if(a.files&&a.files[0]){let e=a.files[0],s=new FileReader;s.onload=n=>{n.target?.result&&(this.userPhoto=n.target.result)},s.readAsDataURL(e)}}onSave(){let r={name:this.userName,age:this.userAge,gender:this.userGender,photo:this.userPhoto,email:this.userEmail,password:this.originalData.password,weight:this.userWeight,height:this.userHeight};this.userProfileService.updateProfile(r),this.authService.updateUserProfile(r).subscribe(a=>{a.success?(this.originalData=p({},r),this.showNotification("Profile updated successfully!","success")):this.showNotification("Failed to update profile","error")})}onCancel(){this.userName=this.originalData.name,this.userAge=this.originalData.age,this.userGender=this.originalData.gender,this.userPhoto=this.originalData.photo,this.userEmail=this.originalData.email,this.userWeight=this.originalData.weight,this.userHeight=this.originalData.height,this.showNotification("Changes cancelled","info")}showNotification(r,a){let e=document.createElement("div");e.textContent=r;let s=a==="success"?"linear-gradient(135deg, #4caf50 0%, #2e7d32 100%)":a==="error"?"linear-gradient(135deg, #f44336 0%, #c62828 100%)":"linear-gradient(135deg, #2196f3 0%, #1565c0 100%)";e.style.cssText=`
      position: fixed;
      top: 100px;
      right: 20px;
      background: ${s};
      color: white;
      padding: 16px 24px;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      z-index: 10000;
      font-weight: 600;
      animation: slideIn 0.3s ease;
    `,document.body.appendChild(e),setTimeout(()=>{e.style.animation="slideOut 0.3s ease",setTimeout(()=>e.remove(),300)},3e3)}ngOnInit(){this.profileSubscription=this.userProfileService.profile$.subscribe(r=>{this.userName=r.name,this.userAge=r.age,this.userGender=r.gender,this.userPhoto=r.photo,this.userEmail=r.email,this.userWeight=r.weight,this.userHeight=r.height,this.originalData=p({},r)})}ngOnDestroy(){this.profileSubscription&&this.profileSubscription.unsubscribe()}static \u0275fac=function(a){return new(a||h)(u(T),u(z))};static \u0275cmp=C({type:h,selectors:[["app-settings"]],decls:65,vars:7,consts:[[1,"settings-container"],[1,"settings-header"],[1,"profile-settings-card","card"],[1,"profile-photo-section"],[1,"photo-wrapper"],["alt","Profile Photo",1,"profile-photo",3,"src"],[1,"photo-overlay"],["for","photoUpload",1,"edit-photo-btn"],[1,"icon"],["type","file","id","photoUpload","accept","image/*",2,"display","none",3,"change"],[1,"profile-form"],[1,"form-group"],["for","userName"],["type","text","id","userName","name","userName","placeholder","Enter your name",1,"form-control",3,"ngModelChange","ngModel"],["for","userEmail"],["type","email","id","userEmail","name","userEmail","placeholder","Enter your email",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-row"],["for","userAge"],["type","number","id","userAge","name","userAge","placeholder","Enter your age","min","1","max","120",1,"form-control",3,"ngModelChange","ngModel"],["for","userGender"],["id","userGender","name","userGender",1,"form-control",3,"ngModelChange","ngModel"],["value",""],["value","male"],["value","female"],["value","other"],["value","prefer-not-to-say"],["for","userWeight"],["type","number","id","userWeight","name","userWeight","placeholder","Enter your weight","min","1",1,"form-control",3,"ngModelChange","ngModel"],["for","userHeight"],["type","number","id","userHeight","name","userHeight","placeholder","Enter your height","min","1",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(a,e){a&1&&(t(0,"div",0)(1,"div",1)(2,"h1"),o(3,"Settings"),i(),t(4,"p"),o(5,"Manage your profile and preferences"),i()(),t(6,"div",2)(7,"h2"),o(8,"Profile Information"),i(),t(9,"div",3)(10,"div",4),y(11,"img",5),t(12,"div",6)(13,"label",7)(14,"span",8),o(15,"\u{1F4F7}"),i(),t(16,"span"),o(17,"Change Photo"),i()(),t(18,"input",9),c("change",function(n){return e.onPhotoChange(n)}),i()()()(),t(19,"form",10)(20,"div",11)(21,"label",12),o(22,"Name"),i(),t(23,"input",13),m("ngModelChange",function(n){return d(e.userName,n)||(e.userName=n),n}),i()(),t(24,"div",11)(25,"label",14),o(26,"Email"),i(),t(27,"input",15),m("ngModelChange",function(n){return d(e.userEmail,n)||(e.userEmail=n),n}),i()(),t(28,"div",16)(29,"div",11)(30,"label",17),o(31,"Age"),i(),t(32,"input",18),m("ngModelChange",function(n){return d(e.userAge,n)||(e.userAge=n),n}),i()(),t(33,"div",11)(34,"label",19),o(35,"Gender"),i(),t(36,"select",20),m("ngModelChange",function(n){return d(e.userGender,n)||(e.userGender=n),n}),t(37,"option",21),o(38,"Select gender"),i(),t(39,"option",22),o(40,"Male"),i(),t(41,"option",23),o(42,"Female"),i(),t(43,"option",24),o(44,"Other"),i(),t(45,"option",25),o(46,"Prefer not to say"),i()()()(),t(47,"div",16)(48,"div",11)(49,"label",26),o(50,"Weight (kg)"),i(),t(51,"input",27),m("ngModelChange",function(n){return d(e.userWeight,n)||(e.userWeight=n),n}),i()(),t(52,"div",11)(53,"label",28),o(54,"Height (cm)"),i(),t(55,"input",29),m("ngModelChange",function(n){return d(e.userHeight,n)||(e.userHeight=n),n}),i()()(),t(56,"div",30)(57,"button",31),c("click",function(){return e.onSave()}),t(58,"span",8),o(59,"\u{1F4BE}"),i(),o(60," Save Changes "),i(),t(61,"button",32),c("click",function(){return e.onCancel()}),t(62,"span",8),o(63,"\u274C"),i(),o(64," Cancel "),i()()()()()),a&2&&(l(11),_("src",e.userPhoto,f),l(12),g("ngModel",e.userName),l(4),g("ngModel",e.userEmail),l(5),g("ngModel",e.userAge),l(4),g("ngModel",e.userGender),l(15),g("ngModel",e.userWeight),l(4),g("ngModel",e.userHeight))},dependencies:[M,A,w,W,N,v,O,E,b,P,k,D,S,x],styles:[".settings-container[_ngcontent-%COMP%]{padding:40px;max-width:1200px;margin:0 auto;animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.settings-header[_ngcontent-%COMP%]{margin-bottom:32px}.settings-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;margin:0 0 8px;color:var(--text-primary);font-weight:700}.settings-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:var(--text-secondary);margin:0}.profile-settings-card[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}.profile-settings-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:32px;font-size:1.75rem}.profile-photo-section[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:32px}.photo-wrapper[_ngcontent-%COMP%]{position:relative;width:150px;height:150px;border-radius:50%;overflow:hidden;box-shadow:var(--shadow-lg);transition:transform var(--transition-normal)}.photo-wrapper[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.profile-photo[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.photo-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0009;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity var(--transition-normal)}.photo-wrapper[_ngcontent-%COMP%]:hover   .photo-overlay[_ngcontent-%COMP%]{opacity:1}.edit-photo-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px;color:#fff;cursor:pointer;font-size:.9rem;font-weight:600}.edit-photo-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:2rem}.profile-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.95rem;font-weight:600;color:var(--text-secondary)}.form-control[_ngcontent-%COMP%]{padding:12px 16px;background:var(--dark-bg);border:1px solid var(--border-color);border-radius:8px;color:var(--text-primary);font-size:1rem;transition:all var(--transition-normal)}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--accent-green);box-shadow:0 0 0 3px #2d5f3f33}.form-control[_ngcontent-%COMP%]::placeholder{color:var(--text-muted)}select.form-control[_ngcontent-%COMP%]{cursor:pointer}.form-actions[_ngcontent-%COMP%]{display:flex;gap:16px;margin-top:8px}.btn[_ngcontent-%COMP%]{flex:1;padding:14px 24px;border:none;border-radius:10px;font-size:1rem;font-weight:600;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:8px;transition:all var(--transition-normal)}.btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.2rem}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--accent-green) 0%,var(--accent-green-dark) 100%);color:#fff;box-shadow:var(--shadow-md)}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,var(--accent-green-light) 0%,var(--accent-green) 100%);transform:translateY(-2px);box-shadow:var(--shadow-lg)}.btn-primary[_ngcontent-%COMP%]:active{transform:translateY(0)}.btn-secondary[_ngcontent-%COMP%]{background:var(--dark-bg);color:var(--text-secondary);border:1px solid var(--border-color)}.btn-secondary[_ngcontent-%COMP%]:hover{background:var(--secondary-bg);border-color:var(--border-light);color:var(--text-primary)}@media (max-width: 768px){.settings-container[_ngcontent-%COMP%]{padding:24px 16px}.settings-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.form-actions[_ngcontent-%COMP%]{flex-direction:column}.photo-wrapper[_ngcontent-%COMP%]{width:120px;height:120px}}"]})};export{G as SettingsComponent};
